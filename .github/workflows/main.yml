name: Linting and link checking jobs
on:
  push:
    branches: [ main ]

jobs:
  check-links:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout ğŸ›ï¸
        uses: actions/checkout@v2 
      - name: Set up Ruby ğŸ’
        uses: ruby/setup-ruby@v1
        with:
          ruby-version: '2.7'
          bundler-cache: true
      - name: Install dependencies ğŸ”§
        run: cd ./scripts/check_links/ && bundle install
      - name: Build markdown and check links ğŸ—  
        run: ruby ./scripts/check_links/check_links.rb
  # prose:
  #   runs-on: ubuntu-latest
  #   steps:
  #     - name: Checkout
  #       uses: actions/checkout@v2

  #     - name: Vale
  #       uses: errata-ai/vale-action@master
  #       with:
  #         # Optional
  #         styles: |
  #           https://github.com/errata-ai/Google/releases/latest/download/Google.zip
  #           https://github.com/errata-ai/write-good/releases/latest/download/write-good.zip

  #         # Optional
  #         # config: https://raw.githubusercontent.com/errata-ai/vale/master/.vale.ini

  #         # Optional
  #         files: __onlyModified #all
  #       env:
  #         # Required
  #         GITHUB_TOKEN: ${{secrets.GITHUB_TOKEN}}

    
        
 