---
title: "Quickstart"
hidden: true
---



DRAFT: UNPUBLISHED
-----


this is a draft version that is not yet included in the table of contents.



Get structured data from an auto insurance quote
===

Let's get started with SenseML! In this quickstart, you'll write a custom config to extract structured data from auto insurance quote PDFs and integrate Sensible with your application.

Create the config
----

1. You'll need an account.  Get one at [Sensible.so](https://www.sensible.so/get-early-access).  If you don't have an account, you can still read along to get a rough idea of how things work.

2. Log into the Sensible app at [app.sensible.so](app.sensible.so).
3. Click **Create document type** and name  it "auto_insurance_quote". Leave the defaults and click **Create**.

![](https://raw.githubusercontent.com/sensible-hq/sensible-docs/main/readme-sync/assets/images/v0/quickstart_doc_type.png)

3. Click **Upload document**  and choose this [generic car insurance quote](https://github.com/sensible-hq/sensible-docs/blob/main/readme-sync/assets/pdfs/auto_insurance_anyco_golden.pdf):

   ![](https://raw.githubusercontent.com/sensible-hq/sensible-docs/main/readme-sync/assets/images/v0/quickstart_pdf_1.png)

4. Click **Create configuration**, name  it "anyco" (for the fictional company providing the quote), and click **Create**.

5. Click the configuration name to edit the configuration:

   ![](https://raw.githubusercontent.com/sensible-hq/sensible-docs/main/readme-sync/assets/images/v0/quickstart_click_config.png)

6. For this quickstart, let's extract only a few pieces of information:

   - the policy number
   - the policy period
   - the premium for comprehensive insurance.

7. Paste in this config in the left pane in the editor to extract the data:
 ```json
 {
   "fields": [
     {
       "id": "policy_number",
       "anchor": {
         "match": [
           {
             "text": "policy number",
             "type": "startsWith"
           }
         ]
       },
       "method": {
         "id": "box",
         "position": "below"
       }
     },
     {
       "id": "policy_period",
       "anchor": "policy period",
       "method": {
         "id": "label",
         "position": "right"
       }
     },
     {
       "id": "comprehensive_premium",
       "anchor": "comprehensive",
       "type": "currency",
       "method": {
         "id": "row",
         "tiebreaker": "second"
       }
     }
   ]
 }
 ```

The following image shows this example in the Sensible app:

![](https://raw.githubusercontent.com/sensible-hq/sensible-docs/main/readme-sync/assets/images/v0/quickstart_config_1.png)   

You should see the following extracted data as the output of the config:

   ```json
   {
     "policy_number": {
       "type": "string",
       "value": "123456789"
     },
     "policy_period": {
       "type": "string",
       "value": " April 14, 2021 - Oct 14, 2021"
     },
     "comprehensive_premium": {
       "source": "$150",
       "value": 150,
       "unit": "$",
       "type": "currency"
     }
   }
   ```

   

Congratulations! You've just created your first config!  If you want to process car insurance quotes generated by a different company, you can create a new config and upload a new "golden" PDF. 

**How it works**

- Each "field" is a basic query unit in SenseML, and the field ID is output as the key in the structured data.  For more information, see [Field](doc: field-object).

- SenseML searches first for a text "anchor" because it's a computationally quick and inexpensive way to narrow down the location in the document where you want to extract data. Then, SenseML uses a "method" to expand out from the anchor and grab the data you want. You can define complex anchors. For more information see [Anchor](doc:anchor-object). This config uses three types of methods:

  - To grab the policy number, the config uses the "box" method. This tells SenseML that the anchor (`"Policy number"`) is inside of a box, and SenseML should grab the box contents except for the anchor itself.

    For this box:
  
    ![](https://raw.githubusercontent.com/sensible-hq/sensible-docs/main/readme-sync/assets/images/v0/quickstart_box.png)
  
    The config uses this Field query:
  
    ```json
    {
          "id": "policy_number",
          "anchor": {
            "match": [
              {
                "text": "policy number",
                "type": "startsWith"
              }
            ]
          }
    ```
  
    Which returns:

    ```json
    {
    "policy_number": {
    "type": "string",
    "value": "123456789"
    }
    ```
    
  - To grab the policy period, the config uses the "label" method. This tells SenseML that the anchor (`"policy period"`) is text that is pretty close to some other text, and SenseML should grab the nearest text to the label in the position specified (`right`).  (The "closeness" of lines is something you can configure with a preprocessor.)
  
    For this text:
    ![](https://raw.githubusercontent.com/sensible-hq/sensible-docs/main/readme-sync/assets/images/v0/quickstart_label_right.png)
    The config uses this Field query:
  
    ```json
        {
          "id": "policy_period",
          "anchor": "policy period:",
          "method": {
            "id": "label",
            "position": "right"
          }
        },
    ```
  
    This returns:
  
    ```json
      "policy_period": {
        "type": "string",
        "value": " April 14, 2021 - Oct 14, 2021"
      
    ```
  
    
  
    You can grab text to the right, left, above, or below a label. For example, how would you use a label to grab the driver's name? Try it out.
  
  - To grab the comprehensive coverage premium, the config uses the "row" method. This tells SenseML that the anchor (`"comprehensive"`) is part of a row in a table, and to grab some text in that row.
  
    To grab this premium of $150:
  
    ![](https://raw.githubusercontent.com/sensible-hq/sensible-docs/main/readme-sync/assets/images/v0/quickstart_row.png)
    The config uses this Field query:
    
    ```json
        {
          "id": "comprehensive_premium",
          "anchor": "comprehensive",
          "type": "currency",
          "method": {
            "id": "row",
            "tiebreaker": "second"
          }
    ```
    
    This returns: 
    
    ```json
      "comprehensive_premium": {
        "source": "$150",
        "value": 150,
        "unit": "$",
        "type": "currency"
      }
    ```
    
    The tiebreaker lets you select which element in the row you want and can include maximums and minimums (`<` and `>`). You can also select elements to the right or left of the anchor using `position`.  (not shown).

**Key concepts: lines**
 You might ask yourself, "why can't I just use a label in the table? Why can't I set a label for "bodily injury liability" and then grab the line starting with "$25,00" to the right of it, like this: 

![](https://raw.githubusercontent.com/sensible-hq/sensible-docs/main/readme-sync/assets/images/v0/quickstart_concept_1.png)

```json
    {
      "id": "injury_liability",
      "anchor": "bodily injury",
      "method": {
        "id": "label",
        "position": "right"
      }

```

The reason this query doesn't work is that SenseML operates on "lines". See those gray boxes around the text in the preceding image? Each gray box is a line. Lines are defined by whitespace, so multiple "lines" can occupy the same x-axis. Since the Label method works only for closely proximate lines (sensitive to spacing and font size), this config uses the purpose-built "row" method instead.

**Advanced queries**

You can get more advanced with this auto insurance config. For example:

- You can use a Computed Field method to return the sum of all the listed premiums, which is $260 ($100 + $10 + $150).
- The limits listed in the table are tricky since they can be a variable number of lines. You can use an xRangeFilter set in the Document Range method to capture them. 

We'll save these and other techniques for a later tutorial!  To check out other methods, see [Methods](doc:methods).

Sanity test the config
----

Before integrating the config with an application and writing tests against it, let's sanity test the config by uploading another quote.

1.  Repeat the steps in the previous section to upload this [generic car insurance quote](https://github.com/sensible-hq/sensible-docs/blob/main/readme-sync/assets/pdfs/auto_insurance_anyco_golden_2.pdf).

2. Click the **anyco** config, select the "auto_insurance_anyco_gold_2" PDF, and look at the output:

   Uh oh! It looks like this policy period spills over onto the next line, so we miss the end year (2021). That's some yucky PDF formatting, but we can't do anything about it.
   
   ![](https://raw.githubusercontent.com/sensible-hq/sensible-docs/main/readme-sync/assets/images/v0/quickstart_error_1.png)

How can we capture the policy period reliably? AS you become more familiar with SenseML, you might guess you'd use a Document Range method, which grabs multiple lines of text, like paragraphs, after an anchor. But nope, this sloppily formatted PDF doesn't fit neatly into that method, because the first line we want is also part of the anchor (the orange box), so it doesn't get included in the method match (the blue box):

![](https://raw.githubusercontent.com/sensible-hq/sensible-docs/main/readme-sync/assets/images/v0/quickstart_error_2.png)

Fortunately, there are almost always multiple ways to tackle a problem in SenseML.  Here's  one way: you can define a region is space relative to the label, and capture everything in it. 

Replace your policy_period field with field into the editor:

```json
    {
      "id": "policy_period",
      "anchor": {
        "match": [
          {
            "text": "policy period",
            "type": "startsWith"
          }
        ]
      },
      "method": {
        "id": "region",
        "offsetX": -0.1,
        "offsetY": -0.1,
        "width": 3.5,
        "height": 0.45,
        "start": "left",
        "wordFilters": [
          "policy period",
        ]
      }
    },
```

This field defines a region in inches relative to the anchor, and since the region overlaps the anchor, it uses a filter to get rid of the anchor text in the output. See the green box in the editor? This box dynamically resizes as you adjust the region parameters (such as `height` and `start`), so you can visually tweak the region till you're satisfied: 

![](https://raw.githubusercontent.com/sensible-hq/sensible-docs/main/readme-sync/assets/images/v0/quickstart_error_recover_2.png)



Let's double check that this region also works with our first PDF:

![](https://raw.githubusercontent.com/sensible-hq/sensible-docs/main/readme-sync/assets/images/v0/quickstart_error_recover_2.png)

Yes, it does.

Integrate with your application
---

When you're satisfied with your config, use the [Sensible API](https://docs.sensible.so/reference) to integrate with your application. 

**Test data extraction API**

First, make sure you can extract data using the config you created in previous steps:

1.  Let's assume you followed the previous steps and also downloaded the example [generic car insurance quote](https://github.com/sensible-hq/sensible-docs/blob/main/readme-sync/assets/pdfs/auto_insurance_anyco_golden.pdf) For this example, use something like this to extract data:

```curl
curl --request POST \
  --url https://api.sensible.so/v0/extract/auto_insurance_quote \
  --header 'Authorization: Bearer YOUR_BEARER_TOKEN' \
  --header 'Content-Type: application/pdf' \
  --data-binary '@/PATH_TO_DOWNLOADED_PDF/auto_insurance_anyco_golden.pdf'

```

In postman, you can run this request as follows: 

1. Click File>Import and select Raw text.

2. Paste in the previous code sample, substituting your bearer token.

3. Correct the path to your downloaded PDF. Click **body**, select **binary**, then click **Select file** and choose your PDF:

   

![](https://raw.githubusercontent.com/sensible-hq/sensible-docs/main/readme-sync/assets/images/v0/quickstart_postman_1.png)

Click **Send**, and you should see a response like this:

```json
{
    "id": "b0ac180d-55d2-4946-80c0-a87243319746",
    "created": "2021-05-20T18:02:37.019Z",
    "status": "COMPLETE",
    "type": "auto_insurance_quote",
    "parsed_document": {
        "policy_number": {
            "type": "string",
            "value": "123456789"
        },
        "policy_period": {
            "type": "string",
            "value": ": April 14, 2021 - Oct 14, 2021"
        },
        "comprehensive_premium": {
            "source": "$150",
            "value": 150,
            "unit": "$",
            "type": "currency"
        }
    }
}
```



Notice that you don't have to specify the config you created in this call ("anyco"). Sensible looks at all the configs created for this document type, and automatically chooses the one that fits best.



Now you can use the [Sensible API](https://docs.sensible.so/reference) to generate upload and download URLs for multiple car insurance quote PDFs  and retrieve results. 







